{% load static %}
<html>
<head>
    <title>www.crop_yield_prediction.com/crop_data/</title>
    <link rel="stylesheet" href="{% static 'css/menu.css' %}">
    <style>
        #div1{
        width:1500px;
        height:120px;
        background-image:url("../Static/images/yieldheader.jpg");
        background-size:1500px 120px;
        }
        #div2
        {
        width:1500px;
        height:100%;
        background-image:url("../Static/images/yieldbg.jpg");
        background-size:1500px 100%;
        }
    </style>
</head>
<body>
<div id="div1">
    <h1 style="color:white;"><br>CROP YIELD PREDICTION AND EFFICIENT USE OF FERTILIZERS</h1>
</div>
<div id="div2">
    <!--    Home page icon to link starts-->
    <div class="custom_menu-btn" style="float:left;">
        <button onclick="myFunction()" class="dropdown-btn">
            <span clas0s="s-1"> </span>
            <span class="s-2"> </span>
            <span class="s-3"> </span>
        </button>
        <div id="myDropdown" class="dropdown-container">
            <a href="{% url 'user_home' %}">Home</a>
            <a href="{% url 'crop_data' %}">View Crop Details</a>
            <a href="{% url 'adv_search' %}">Farmer Query</a>
            <a href="{% url 'crop_prediction' %}">Crop Prediction</a>
            <a href="{% url 'logout' %}">Logout</a>
        </div>
    </div>
    <!--    Home page icon to link ends-->
    <form method="POST">
        {% csrf_token %}
        <center>
            <label style="color:white;font-size:25px;"><br><strong>Soil Type</strong></label>
            <select name='soil' id="soil_id">
                <option disabled="true" selected >Select</option>
                {% for i in data.soil_list %}
                <option value="{{i}}" >{{i}}</option>
                {% endfor %}
            </select>
            <input type="submit" value="Submit" id="sub"><br><br>
            <h1 style="text-align:center;color:darkorange;">Efficient Fertilizer of Soil for {{soil1}} </h1><br>
            <table><tr style="text-align:center;color:white;background-color:blue;">
                <th>State</th><th>District</th><th>Crop Year</th><th>Season</th><th>Crop</th><th>Area</th><th>Soil Type</th><th>Temperature</th><th>Potassium</th><th>Phosphorous</th><th>Nitrogen</th><th>Fertilizer</th><th>Production</th></tr>
                <center>
                    {% for i in prod %}
                    <tr>
                        <td>{{i.state}}</td>
                        <td>{{i.district}}</td>
                        <td>{{i.crop_year}}</td>
                        <td>{{i.season}}</td>
                        <td>{{i.crop}}</td>
                        <td>{{i.area}}</td>
                        <td>{{i.soil_type}}</td>
                        <td>{{i.temperature}}</td>
                        <td>{{i.potassium_p}}</td>
                        <td>{{i.phosphorous_ph}}</td>
                        <td>{{i.nitrogen_n}}</td>
                        <td>{{i.fertilizer_f}}</td>
                        <td>{{i.production}}</td>
                    </tr>
                    {% endfor %}
                </center>
            </table>
        </center>
    </form>
</div>
<script>
/* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it , .s-2, s-3
window.onclick = function(event) {
  if (!event.target.matches('.dropdown-btn') & !event.target.matches('.s-1') & !event.target.matches('.s-2') & !event.target.matches('.s-3')) {
    var dropdowns = document.getElementsByClassName("dropdown-container");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>
</body>
</html>